% Light & Panel Power
% Plot of light intensity and Solar Panel powewr overlayed on separate axes
% Karl Berger
% 24 February 2020

%%%% ENTER YOUR CHANNEL ID %%%%
readChannelID = 000000;

% Field definitions
lightFld = 1; % Light Intensity
vcellFld = 4; % Vcell

% Length of plot
dataDays = 1; % number of days to plot

%% Read Data %%
[data, timeStamps] = thingSpeakRead(readChannelID, 'Fields',[vcellFld lightFld], ...
                     'NumDays', dataDays);
                                                   
% Extract the light intensity from the first column
lux = data(:, 1);

% Extract the solar panel power from the second column
power = data(:, 2);

%% Visualize the data %%

yyaxis right
plot(timeStamps, lux, 'Linewidth', 2)
ylabel('lux')

yyaxis left
plot(timeStamps, power, 'Linewidth', 2)
ylabel('Milliwatts')

grid on           % grid always tied to left axis
